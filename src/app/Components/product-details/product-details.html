<div class="container mt-5">
  <!-- لو لسه بيحمل -->
  <div *ngIf="isLoading" class="text-center">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
    <p class="mt-3">جاري تحميل تفاصيل المنتج...</p>
  </div>

  <!-- لو فيه خطأ -->
  <div *ngIf="errorMessage && !isLoading" class="alert alert-danger" role="alert">
    {{ errorMessage }}
    <button (click)="goBackToProducts()" class="btn btn-primary mt-3">الرجوع للمنتجات</button>
  </div>

  <!-- لو المنتج اتحمل بنجاح -->
  <div *ngIf="product && !isLoading" class="row">
    <div class="col-md-6">
      <img [src]="product.ImageUrl" [alt]="product.productName" class="img-fluid rounded shadow">
    </div>
    
    <div class="col-md-6">
      <h1 class="mb-3">{{ product.productName }}</h1>
      
      <div class="card">
        <div class="card-body">
          <h3 class="text-primary mb-3">{{ product.productPrice | currency }}</h3>
          
          <p class="card-text">
            <strong>الوصف:</strong> {{ product.productDetails }}
          </p>
          
          <p class="card-text">
            <strong>الكمية المتاحة:</strong> 
            <span [class.text-danger]="product.productQuantity === 0"
                  [class.text-success]="product.productQuantity > 0">
              {{ product.productQuantity }}
            </span>
          </p>
          
          <p class="card-text">
            <strong>رقم الفئة:</strong> {{ product.CategoryID }}
          </p>

          <div class="mt-4">
            <button (click)="goBackToProducts()" class="btn btn-secondary me-2">
              الرجوع للمنتجات
            </button>
            
            <button class="btn btn-primary" 
                    [disabled]="product.productQuantity === 0">
              <i class="bi bi-cart-plus"></i> أضف للسلة
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
